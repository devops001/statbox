<head>
  <title>statbox</title>
</head>

<body>
  <div class="container">

    <header>
      <h1>statbox</h1>
      {{> loginButtons}}
      <form class="new-message">
        <input type="text" name="message" placeholder="Type here to add a message" />
      </form>
    </header>

    <table id="messages">
      <tr><th>Created At</th><th>From</th><th>Message</th><th>Status</th><th>Assigned To</th><th></th></tr>
      {{#each messages}}
        {{> message}}
      {{/each}}
    </table>

    {{#if selectedMessage}}
      {{#with selectedMessage}}
        {{> messageDetail}}
      {{/with}}
    {{/if}}

  </div><!-- container -->
</body>

<template name="message">
   {{#if odd}} 
     <tr class="colored_bg selectable">
       <td>{{formatTime createdAt}}</td>
       <td>{{sentFrom}}</td>
       <td>{{text}}</td>
       <td>{{status}}</td>
       <td>{{assignedTo}}</td>
       <td><button class="delete shadow">&times;</button></td>
    </tr>
   {{else}} 
     <tr class="selectable">
       <td>{{formatTime createdAt}}</td>
       <td>{{sentFrom}}</td>
       <td>{{text}}</td>
       <td>{{status}}</td>
       <td>{{assignedTo}}</td>
       <td><button class="delete shadow">&times;</button></td>
     </tr>
   {{/if}}
</template>

<template name="messageDetail">
  <div>
    <p>{{createdAt}}</p>
    <p>{{sentFrom}}</p>
    <p>{{text}}</p>
    <p>{{status}}</p>
    <p>{{assignedTo}}</p>
  </div>
</template>

