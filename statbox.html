<head>
  <title>statbox</title>
</head>

<body>
  <div class="container">

    <header>
      <h1>statbox</h1>
      {{> loginButtons}}
      <form class="new-message">
        <input type="text" name="message" placeholder="Type here to add a message" />
      </form>
    </header>

    <table id="messages">
      <tr><th>Created At</th><th>From</th><th>Message</th><th>Status</th><th>Assigned To</th><th></th></tr>
      {{#each messages}}
        {{> message}}
      {{/each}}
    </table>

    {{#with selectedMessage}}
      {{> messageDetail}}
    {{/with}}

  </div><!-- container -->
</body>

<template name="message">
   {{#if odd}} 
     <tr class="message colored_bg">
       <td>{{formatTime createdAt}}</td>
       <td>{{sentFrom}}</td>
       <td>{{truncate text "20"}}</td>
       <td>{{status}}</td>
       <td>{{assignedTo}}</td>
       <td><button class="delete">&times;</button></td>
    </tr>
   {{else}} 
     <tr class="message">
       <td>{{formatTime createdAt}}</td>
       <td>{{sentFrom}}</td>
       <td>{{truncate text "20"}}</td>
       <td>{{status}}</td>
       <td>{{assignedTo}}</td>
       <td><button class="delete">&times;</button></td>
     </tr>
   {{/if}}
</template>

<template name="messageDetail">
  <div class="messageDetail">
    <h3>Message Detail:</h3>
    <table>
      <tr><th>Created At:</th><td>{{formatTime createdAt}}</td></tr>
      <tr><th>Sent From:</th><td>{{sentFrom}}</td></tr>
      <tr><th>Text:</th><td>{{text}}</td></tr>
      <tr><th>Status:</th><td>{{status}}</td></tr>
      <tr><th>Assigned To:</th><td>{{assignedTo}}</td></tr>
    </table>
  </div>
</template>

